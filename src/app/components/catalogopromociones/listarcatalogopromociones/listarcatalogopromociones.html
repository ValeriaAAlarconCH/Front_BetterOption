<div class="barra-superior">
  <div class="lado-izquierdo">
    <input type="text" placeholder="ğŸ” Buscar catÃ¡logo..." (input)="aplicarFiltro($event)" />
    <button mat-raised-button color="primary" (click)="alternarFavoritos()">
      {{ mostrarFavoritos ? 'âœ”ï¸ Ver Todos' : 'â­ Ver Favoritos' }}
    </button>
  </div>

  <div class="lado-derecho">
    <span class="contador-activas">
      ğŸ§® Promociones activas: <strong>{{ contadorActivas }}</strong>
    </span>
  </div>
</div>


<div class="container-listado">
  <div *ngFor="let item of dataSource.filteredData" class="card-promocion" [ngClass]="obtenerEstadoPromocion(item.fechaInicio, item.fechaFin)"
  >
    <h3>
      ğŸ“Œ {{ item.nombreCatalogo }}

      <span class="estado-promocion">
    {{ obtenerEstadoPromocion(item.fechaInicio, item.fechaFin) }}
  </span>

      <p class="estado-promocion" *ngIf="diasRestantes(item.fechaFin) > 0">
        â³ Faltan {{ diasRestantes(item.fechaFin) }} dÃ­as para finalizar
      </p>

      <button mat-icon-button (click)="toggleFavorito(item.id_catalogopromociones)">
        {{ esFavorito(item.id_catalogopromociones) ? 'â­' : 'â˜†' }}
      </button>
    </h3>


    <p>ğŸ“„ <strong>DescripciÃ³n:</strong> {{ item.descripcion }}</p>
    <p>ğŸ¢ <strong>Microempresa:</strong> {{ item.microempresa?.nombreNegocio || 'N/A' }}</p>
    <p>ğŸ“… <strong>Fecha de Inicio:</strong> {{ item.fechaInicio | date: 'yyyy-MM-dd' }}</p>
    <p>ğŸ“… <strong>Fecha de Fin:</strong> {{ item.fechaFin | date: 'yyyy-MM-dd' }}</p>


    <div class="acciones-botones">
      <button mat-raised-button color="primary" (click)="editar(item.id_catalogopromociones)">âœï¸ Editar</button>
      <button mat-raised-button color="warn" (click)="eliminar(item.id_catalogopromociones)">ğŸ—‘ï¸ Eliminar</button>
    </div>
  </div>
</div>
